(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[27407],{484898:(e,t,i)=>{i.d(t,{o:()=>s.o,Z:()=>n});var a=i(737614),s=i(966427);const n={getBrowser:()=>(0,s.u)(a.Z.instance.browser_name||""),isSafari(){return this.getBrowser()===s.o.SAFARI},isChrome(){return this.getBrowser()===s.o.CHROME},isFirefox(){return this.getBrowser()===s.o.FIREFOX},isEdge(){return this.getBrowser()===s.o.EDGE}}},805534:(e,t,i)=>{i.d(t,{Z:()=>y});var a=i(667294),s=i(34411),n=i(549135),o=i(585967),r=i(883119),l=i(872324),d=i(208757),h=i(785893);function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends a.Component{constructor(...e){var t;super(...e),c(this,"state",{canPlayVideo:!1,playbackState:d.Cy.DEFAULT}),c(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:i=!1}=e;(0,l.tE)("videoMounted",!1,i),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(d.DR,{initiator:"mount"}))})),c(this,"componentDidUpdate",(e=>{const{playing:t,visible:i}=this.props;e.visible&&!1===i&&(this.logSessionStartOnNextPlay=!1,this.logPlaybackPerformance(d.$f,{initiator:"update"})),!1===e.visible&&!0===i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(d.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(d.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),c(this,"errorRetryCount",2),c(this,"hasSegmentStarted",!1),c(this,"hasPlaybackStarted",!1),c(this,"hasVideoSessionStarted",!1),c(this,"hasVideoSessionEnded",!1),c(this,"lastStartPlayTime",null),c(this,"lastStallTime",null),c(this,"logSessionStartOnNextPlay",!1),c(this,"playerId",""),c(this,"videoRefSetTime",null),c(this,"videoSessionId",""),c(this,"videoVisibleTime",null),c(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:(t=this.props.src,t?"string"==typeof t?t:Array.isArray(t)&&t[0].src?t[0].src:"unsupported_type_"+typeof t:"undefined"),totalStallDurationMs:0}),c(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:i,srcString:a}=this.playbackPerformance;let s=-1;e&&t&&0===i.length&&(s=e>t?e-t:0);const n=this.videoPlayerRef&&this.videoPlayerRef.video,o={indicatedKbps:-1,duration:n&&n.duration*d.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:s,switchBitrateKbps:-1,uri:a,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};i.push(o)})),c(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*d.gJ:0)),c(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),c(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:i,playing:a,videoStartTime:s}=this.props,{is_closeup_video:n=!1}=t,{canPlayVideo:o}=this.state;(0,l.tE)("handleCanPlayVideo",!1,n,{firstCanPlayEvent:!o,playing:a}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date,null!=s&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=s)),this.setState({canPlayVideo:!0}),i&&i(e)})),c(this,"handleEnded",(e=>{const{loop:t,onEnded:i}=this.props,{segments:a}=this.playbackPerformance,s=a&&a[a.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),s&&(s.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(d.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:d.Cy.ENDED}),i&&i(e)})),c(this,"handleError",(()=>{var e,t,i,a,s,n,o,r;const{contextLogData:h={}}=this.props,{is_closeup_video:c=!1}=h,u=this.videoPlayerRef&&this.videoPlayerRef.video;(null==u||null===(e=u.error)||void 0===e?void 0:e.code)!==d.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==u||null===(t=u.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==u||null===(i=u.error)||void 0===i?void 0:i.code)||0,this.playbackPerformance.errorName=(null==u||null===(a=u.error)||void 0===a||null===(s=a.message)||void 0===s?void 0:s.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==u||null===(n=u.error)||void 0===n||null===(o=n.message)||void 0===o?void 0:o.slice(0,100))||"unknown";const y={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==u?void 0:u.networkState)||"unknown"};switch((0,l.tE)("fatalError",!1,c,y),null==u||null===(r=u.error)||void 0===r?void 0:r.code){case d.lG.MEDIA_ERR_ABORTED:break;case d.lG.MEDIA_ERR_NETWORK:case d.lG.MEDIA_ERR_DECODE:case d.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==u||u.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:d.Cy.FAILED})})),c(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:d.Cy.LOADED_METADATA})})),c(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:d.Cy.LOAD_START})})),c(this,"handleLoadedData",(()=>{this.setState({playbackState:d.Cy.LOADED_DATA})})),c(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.setState({playbackState:d.Cy.PLAYING})})),c(this,"handlePause",(()=>{this.state.playbackState!==d.Cy.STALLING&&this.state.playbackState!==d.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.updateStallDuration()),this.setState({playbackState:d.Cy.PAUSED})})),c(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==d.Cy.ENDED&&this.setState({playbackState:d.Cy.SEEKING})})),c(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==d.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:d.Cy.STALLING}))})),c(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===d.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),c(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),c(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),c(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),c(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),c(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handlePause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),c(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),c(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,a=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof a&&"number"==typeof i){const e=a-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),c(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:i={},userId:a}=this.props,{is_closeup_video:s=!1}=i,{canPlayTime:o,detailedErrors:r,errorCode:h,errorName:c,errorReason:u,hasFatalError:y,loadStartTime:p,numberOfStalls:m,numberOfSeeks:b,playbackStartTimestamp:v,srcString:g}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,P=e===d.DR,f=P&&!this.hasVideoSessionStarted,w=!P&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(S&&(f||w)){var k;let f=-1;o&&p&&(f=o>p?o-p:0);let w=-1;o&&this.videoVisibleTime&&(w=o>this.videoVisibleTime?o-this.videoVisibleTime:0);const D=this.getVideoResourceTiming(),E={averageVideoKbps:-1,detailedErrors:r,downloadedKiloBytes:"number"==typeof(null==D?void 0:D.decodedBodySize)&&D.decodedBodySize/d.Fm||0,errorCode:h,errorName:c,errorReason:u,fatalError:y,isCellular:!1,nativeVideoDurationMs:S.duration*d.gJ||-1,numberOfStalls:m,numberOfSeeks:b,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:v||-1,segments:[],sessionMark:e,screenPixelScale:null!==(k=window)&&void 0!==k&&k.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:f,startupLatencyMs:w,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:g};if(P)this.videoSessionId=(0,d.Y7)(a),this.playerId=this.playerId||(0,d.EB)();else{this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=this.playbackPerformance.segments.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);E.rebufferRate=this.playbackPerformance.totalStallDurationMs/e,E.overallWatchedDurationMs=e,E.startupVariantWatchedDurationMs=e,E.segments=this.playbackPerformance.segments}(0,l.ZP)(E,!1,s,{playbackState:this.state.playbackState,...t}),(0,n.j)(3606,{...i,is_closeup_video:s,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:E}}),P?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,l.tE)(P?"sessionStart":"sessionEnd",!1,s,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(d.$f,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:s,accessibilityUnmuteLabel:n,aspectRatio:o,captions:l,controls:d,loop:c,loopOverride:u,objectFit:y,onDurationChange:p,onFullscreenChange:m,onLoadedChange:b,onPause:v,onPlay:g,onPlayheadDown:S,onPlayheadUp:P,onSeek:f,onVolumeChange:w,playbackRate:k,playing:D,playsInline:E,poster:T,preload:R,src:C,volume:L}=this.props,{canPlayVideo:I}=this.state;return(0,h.jsx)(r.nk,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:s,accessibilityUnmuteLabel:n,aspectRatio:o,captions:l,controls:d,loop:void 0===u?c:u,objectFit:y,onDurationChange:p,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:m,onLoadedChange:b,onLoadStart:this.handleLoadStart,onPause:v,onPlay:g,onPlaying:this.handlePlaying,onPlayheadDown:S,onPlayheadUp:P,onReady:this.handleCanPlayVideo,onSeek:f,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:w,onWaiting:this.handleStalled,playbackRate:k,playing:I&&D,playsInline:E,poster:T,preload:R,ref:this.setVideoPlayerRef,src:C,volume:L})}}const y=(0,a.memo)((function(e){const{country:t,isAuthenticated:i,isBot:a,isSocialBot:n,unauthId:r,userAgent:d}=(0,o.B)(),{browserName:c,browserVersion:y,isMobile:p}=d,{contextLogData:m={}}=e,{is_closeup_video:b=!1,view:v,viewParameter:g}=m,S=(0,s.ZP)(),P={browserName:c,browserVersion:y,country:t,isAuthenticated:i,isBot:a,is_closeup_video:b,isMobile:p,isSocialBot:n,view:v,viewParameter:g};return(0,l.r$)(P),(0,h.jsx)(u,{...e,userId:S.id||r})}))},727407:(e,t,i)=>{i.d(t,{Z:()=>w});var a=i(667294),s=i(23279),n=i.n(s),o=i(102156);var r=i(911167),l=i(30494),d=i(80078),h=i(549135),c=i(883119),u=i(785893);function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const p=[0,.25,.5,.75,.95,.97],m=[0,.5,.8,.99,1],b="-64px 0px 0px 0px",v={rootMargin:b,threshold:m},g={rootMargin:b,threshold:d.iM},S=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function P(){return(new Date).getTime()}function f(e){return!!e.volume&&e.volume>0}class w extends a.Component{constructor(e){super(e),y(this,"videoWrapperRef",(0,a.createRef)()),y(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),y(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),y(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),y(this,"handleLoop",(()=>{this.videoTime=0})),y(this,"handleTimeChange",(e=>{const{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;const a=1e3*e.time,s=function(e,t,i,a){if(e>t)return null;if(i<=0)return null;for(const s of a){const a=s*i;if(e<=a&&t>a)return s}return null}(this.videoTime,a,this.currentInterval.videoDuration,p);if("number"==typeof s&&this.props.playing&&!t&&i){const e=P();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*s),quartilePercentValue:s})}this.videoTime=a,this.props.onTimeChange&&this.props.onTimeChange(e)})),y(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),y(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),y(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),y(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const i=e.slice(-1)[0],a=function(e,t){for(let i=0;i<t.length;i+=1){const a=t[i],s=t[i+1];if(null==s)return a;if(a<=e&&e<s)return a}return null}(Number.parseFloat(i.intersectionRatio.toFixed(2)),m);"number"==typeof a&&(this.visible=a>=.5),null==a||a===this.currentInterval.viewability||this.fullscreen||(0===a?this.startNewInterval({viewability:a,playbackState:S.PAUSED}):this.startNewInterval({viewability:a}))})),y(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),y(this,"handleClose",(()=>{this.startNewInterval()})),y(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=P();this.handleWindowResize=n()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:f(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const i={};f(e)&&!f(this.props)?i.isAudible=!1:!f(e)&&f(this.props)&&(i.isAudible=!0);const a=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==a&&(i.playbackState=a),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?S.PLAYING:S.PAUSED:S.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:i}=this.props,{height:a,width:s,windowHeight:n,windowWidth:o,viewability:r,...l}=t;if(null!=a&&null!=s&&null!=n&&null!=o&&null!=r){const t={...l,height:a,width:s,windowHeight:n,windowWidth:o,viewability:r};(0,h.j)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:i,endTime:a,videoStartTime:s,videoEndTime:n,isAudible:o,height:r,width:l,playbackState:d,quartile:h,quartilePercentValue:c,windowHeight:u,windowWidth:y,viewability:p}},...m}=e;return{...m,eventData:{videoEventData:{videoDuration:t,time:i,endTime:a,videoTime:s,endVideoTime:n,isAudible:o,height:r,width:l,playbackState:d,quartile:h,quartilePercentValue:c,windowHeight:u,windowWidth:y,viewability:p}}}}({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=P();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=P();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:s,accessibilityUnmuteLabel:n,aspectRatio:d,captions:h,contextLogData:y,controls:p,cropHeight:m,hlsConfig:b,inAdsDesktopVideoExperiment:S,loop:P,objectFit:f,onLoadedChange:w,onPause:k,onPlay:D,onSeek:E,onVolumeChange:T,playbackRate:R,playing:C,playsInline:L,poster:I,preload:V,rootMargin:M,src:A,surface:x,videoStartTime:O,volume:_}=this.props,{seeking:F}=this.state,N=S?g:v;return void 0!==M&&(N.rootMargin=x?(0,l.e)(x):M),(0,u.jsx)(o.Z,{options:N,onVisibilityChange:this.handleVisibilityChange,children:(0,u.jsx)(c.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:m?{display:"flex",alignItems:"center",height:"236px"}:{}},children:(0,u.jsx)(r.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:s,accessibilityUnmuteLabel:n,aspectRatio:d,captions:h,contextLogData:y,controls:p,hlsConfig:b,loop:P,objectFit:f,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:w,onLoop:this.handleLoop,onPause:k,onPlay:D,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:E,onTimeChange:this.handleTimeChange,onVolumeChange:T,playbackRate:R,playing:!F&&C,playsInline:L,poster:I,preload:V,src:A,videoStartTime:O,visible:this.visible,volume:_})})})}}y(w,"defaultProps",c.nk.defaultProps)},911167:(e,t,i)=>{i.r(t),i.d(t,{getPlaylistSourceSrc:()=>d,default:()=>h});var a=i(667294),s=i(484898),n=i(805534),o=i(888054),r=(i(883119),i(785893));function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const d=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class h extends a.PureComponent{constructor(e){super(e),l(this,"componentDidUpdate",((e,t)=>{var i;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(i=this.videoPlayerRef)&&void 0!==i&&i.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),l(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),l(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:i,onEnded:a}=this.props;a&&(a({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),i&&i()))}));const t=d(e.src);this.state={useHlsVideo:!e.preferMp4&&!s.Z.isSafari()&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:s,accessibilityUnmuteLabel:l,aspectRatio:h,captions:c,contextLogData:u,controls:y,hlsConfig:p,loop:m,objectFit:b,onDurationChange:v,onEnded:g,onFullscreenChange:S,onLoadedChange:P,onPause:f,onPlay:w,onPlayheadDown:k,onPlayheadUp:D,onReady:E,onSeek:T,onTimeChange:R,onVolumeChange:C,playbackRate:L,playing:I,playsInline:V,poster:M,preferMp4:A,preload:x,src:O,videoStartTime:_,visible:F,volume:N}=this.props,{useHlsVideo:W}=this.state,U=d(O),H={...p,startPosition:_||-1},z=!g&&m;return W&&U?(0,r.jsx)(o.Z,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:s,accessibilityUnmuteLabel:l,aspectRatio:h,captions:c,contextLogData:u,controls:y,hlsConfig:H,loop:m,loopOverride:z,onDurationChange:v,onEnded:this.handleOnEnded,onFullscreenChange:S,onLoadedChange:P,onPause:f,onPlay:w,onPlayheadDown:k,onPlayheadUp:D,onReady:E,onSeek:T,onTimeChange:R,onVolumeChange:C,playbackRate:L,playing:I,playsInline:V,poster:M,preload:x,setVideoRef:this.setVideoPlayerRef,src:U,visible:F,volume:N}):(0,r.jsx)(n.Z,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:s,accessibilityUnmuteLabel:l,aspectRatio:h,captions:c,contextLogData:u,controls:y,loop:m,loopOverride:z,objectFit:b,onDurationChange:v,onEnded:this.handleOnEnded,onFullscreenChange:S,onLoadedChange:P,onPause:f,onPlay:w,onPlayheadDown:k,onPlayheadUp:D,onReady:E,onSeek:T,onTimeChange:R,onVolumeChange:C,playbackRate:L,playing:I,playsInline:V,poster:M,preload:x,setVideoRef:this.setVideoPlayerRef,src:A?O:U||O,videoStartTime:_,visible:F,volume:N})}}},30494:(e,t,i)=>{i.d(t,{e:()=>a});const a=e=>{if("undefined"==typeof window)return"";let t=0;const i=document.querySelector('[data-test-id="header"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:i}=e.getBoundingClientRect();t+=i}break;case"SearchItem":const i=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}const a=document.querySelector('[data-test-id="search-tab-bar"]');if(null!==a){const{height:e}=a.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},966427:(e,t,i)=>{i.d(t,{o:()=>a,u:()=>s});const a=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),s=e=>{switch(!0){case e.includes("Chrome"):return a.CHROME;case e.includes("Safari"):return a.SAFARI;case e.includes("Firefox"):return a.FIREFOX;case e.includes("Opera"):return a.OPERA;case e.includes("IE"):return a.IE;case e.includes("Edge"):return a.EDGE;default:return a.OTHER}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27407-ce40c29ecdbfdd76.mjs.map